<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../principal.xhtml">

            <ui:define name="content">
                <div class="content-wrapper">
                    <section class="content">
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <div class="panel panel-default">
                                    <div class="panel-body">                                        
                                        <div class="page-header">
                                           <!-- <h4>Detalle de Solicitud</h4>-->
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <h:form>
                                                        <h:messages style="color: red"/>
                                                        <h:inputHidden id="numSol" value="#{gc_detallesolicitud.detalle.numeroSolicitud}"/>
                                                        <h4 class="panel-title">
                                                            <div class="row">
                                                                <div class="col-md-3">
                                                                    <button type="button" class="btn btn-primary" id="button" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                                        <span class="glyphicon glyphicon-comment"></span>
                                                                    </button>
                                                                    <label for="button">Comentario</label>
                                                                </div>
                                                                <div class="col-md-8"/>
                                                                <div class="col-md-1">
                                                                    <h:commandLink action="gc_enproceso.xhtml" immediate="true">
                                                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                                    </h:commandLink>
                                                                </div>
                                                            </div>
                                                        </h4>
                                                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                          <div class="panel-body">
                                                            <h:inputTextarea id="comentario" class="form-control" rows="3" value="#{gc_detallesolicitud.comentario}" required="true">
                                                                <f:validateLength minimum="3"/>
                                                            </h:inputTextarea>
                                                            <br/>
                                                            <div class="row">
                                                                <div class="col-xs-3">
                                                                    <h:commandButton class="btn btn-primary" value="Agregar" actionListener="#{gc_detallesolicitud.agregarSeguimiento()}"/>
                                                                </div>
                                                            </div>
                                                          </div>
                                                        </div>
                                                    </h:form>
                                                </div>
                                            </div>
                                        </div>
                                        <h:form>
                                            <h:messages style="color: red"/>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="numeroSolicitud">No. Solicitud</h:outputLabel>
                                                        <h:inputText id="numeroSolicitud" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.numeroSolicitud}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="cif">Cif:</h:outputLabel>
                                                        <h:inputText id="cif" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.cif}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <h:outputLabel for="nombre">Nombre:</h:outputLabel>
                                                        <h:inputText id="nombre" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.nombre}"></h:inputText>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="monto">Monto:</h:outputLabel>
                                                        <h:inputText id="monto" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.monto}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="fecha">Fecha:</h:outputLabel>
                                                        <h:inputText id="fecha" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.fecha}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="tipoCredito">Tipo de garant√≠a:</h:outputLabel>
                                                        <h:inputText id="tipoCredito" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.tipo}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="clienteCredito">Tipo Cliente:</h:outputLabel>
                                                        <h:inputText id="clienteCredito" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.tipoCliente}"></h:inputText>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="destinoCredito">Destino:</h:outputLabel>
                                                        <h:inputText id="destinoCredito" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.destino}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="tramiteCredito">Origen de Tramite:</h:outputLabel>
                                                        <h:inputText id="tramiteCredito" class="form-control" disabled="true" value="#{gc_detallesolicitud.detalle.tramite}"></h:inputText>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:outputLabel for="riesgo">Riesgo:</h:outputLabel>
                                                        <h:selectOneMenu id="riesgo" class="form-control" value="#{gc_detallesolicitud.riesgo.id}">
                                                            <f:selectItems value="#{gc_detallesolicitud.riesgoItem}"/>
                                                        </h:selectOneMenu> 
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Inicia Consertina-->
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <h:commandButton id="btnAutorizada" class="btn btn-success form-control" value="Autorizada" actionListener="#{gc_detallesolicitud.autorizada()}" rendered="#{(gc_detallesolicitud.nivelEdicion == 1 || gc_detallesolicitud.nivelEdicion == 2) eq true}"/>                              
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:commandButton id="btnCancelada" class="btn btn-danger form-control" value="Cancelada" actionListener="#{gc_detallesolicitud.cancelada()}" rendered="#{(gc_detallesolicitud.nivelEdicion == 1 || gc_detallesolicitud.nivelEdicion == 2) eq true}"/>                              
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:commandButton id="btnRechazada" class="btn btn-warning form-control" value="Rechazada" actionListener="#{gc_detallesolicitud.rechazada()}" rendered="#{(gc_detallesolicitud.nivelEdicion == 1 || gc_detallesolicitud.nivelEdicion == 2) eq true}"/>                              
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:commandButton id="btnEnespera" class="btn btn-primary form-control" value="En Espera" actionListener="#{gc_detallesolicitud.enEspera()}" rendered="#{gc_detallesolicitud.nivelEdicion == 1 eq true}"/>                              
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <ui:repeat value="#{gc_detallesolicitud.listSeguimiento}" var="s">
                                                <div class="panel panel-default">
                                                    <div class="panel-body">
                                                        #{s.fechaFormateada}<br/>
                                                        #{s.comentario}
                                                    </div>
                                                </div>
                                            </ui:repeat>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </ui:define>

        </ui:composition>

    </body>
</html>
