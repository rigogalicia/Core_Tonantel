<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <body>
        <ui:composition template="./../principal.xhtml">

            <ui:define name="content">
                <div class="content-wrapper">
                    <section class="content">
                        <!--Panel principal-->
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <h:form id="formSolicitudAv">
                                    <div class="page-header">
                                        <h2>Solicitud de Avaluos</h2>
                                    </div>
                                    <!--Datos Solicitud-->
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="numeroSolicitud" >* Número Solicitud:</h:outputLabel>
                                                <h:message for="numeroSolicitud" style="color: red"/>
                                                <h:inputText id="numeroSolicitud" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.solicitud.numeroSolicitud}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="numeroCredito">* Número de Crédito:</h:outputLabel>
                                                <h:message for="numeroCredito" style="color: red"/>
                                                <h:inputText id="numeroCredito" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.solicitud.numeroCredito}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="monto">* Monto:</h:outputLabel>
                                                <h:message for="monto" style="color: red"/>
                                                <h:inputText id="monto" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.solicitud.monto}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <h:outputLabel for="revaluo">Revaluo:</h:outputLabel>
                                            <h:message for="revaluo" style="color: red"/>
                                            <h:selectOneRadio id="revaluo" class="table table-striped" value="#{av_solicitud.solicitudController.solicitud.reavaluo}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="s" itemLabel="&nbsp;Si&nbsp;"/> 
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                    </div>
                                    <!-- / Datos Solicitud-->
                                    <hr/>
                                    <!--Datos del Solicitante-->
                                    <h4>Datos del Solicitante</h4>
                                    <!-- row cif,dpi,nombre-->
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="cif">* Cif:</h:outputLabel>
                                                <h:message for="cif" style="color: red"/>
                                                <h:inputText id="cif" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.asociado.cif}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="dpi">* DPI:</h:outputLabel>
                                                <h:message for="dpi" style="color: red"/>
                                                <h:inputText id="dpi" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.asociado.dpi}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <h:outputLabel for="nombre">* Nombre:</h:outputLabel>
                                                <h:message for="nombre" style="color: red"/>
                                                <h:inputText id="nombre" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.asociado.nombre}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- / row cif,dpi,nombre-->
                                    <!-- direccion-->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <h:outputLabel for="direccion">* Dirección:</h:outputLabel>
                                                <h:message for="direccion" style="color: red"/>
                                                <h:inputText id="direccion" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.asociado.direccion}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- / direccion-->
                                    <!-- row telefono-->
                                    <h:panelGroup id="pnTelefono">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <h:outputLabel for="telefonos">* Teléfono:</h:outputLabel> <h:outputLabel value="#{av_solicitud.msjTelefono}" style="color: red"/>
                                                    <h:inputText id="telefonos" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.telefono}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <h:outputLabel>&nbsp;</h:outputLabel>
                                                <h:commandLink class="btn btn-info form-control" action="#{av_solicitud.solicitudController.agregarTelefono()}">
                                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                    <f:ajax execute="telefonos" render="pnTelefono"/>
                                                </h:commandLink>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <h:dataTable id="tablatelefono" class="table table-striped" value="#{av_solicitud.solicitudController.telefonos}" var="t">
                                                <h:column>
                                                    #{t}
                                                </h:column>
                                                <h:column>
                                                    <h:commandLink action="#{av_solicitud.solicitudController.quitarTelefono(t)}" immediate="true">
                                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"/>
                                                    </h:commandLink>
                                                </h:column>
                                            </h:dataTable>  
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                    <!-- / row telefono--> 
                                    <!-- / Datos del Solicitante-->
                                    <hr/>
                                    <!--Datos del Propietario-->
                                    <h4>Datos del Propietario</h4>
                                    <!--row-->
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:outputLabel for="dpiPropietario">* DPI:</h:outputLabel>
                                                <h:message for="dpiPropietario" style="color: red"/>
                                                <h:inputText id="dpiPropietario" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.propietario.dpi}" required="true" label="&nbsp;"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <h:outputLabel for="nombrePropietario">* Nombre:</h:outputLabel>
                                                <h:message for="nombrePropietario" style="color: red"/>
                                                <h:inputText id="nombrePropietario" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.propietario.nombre}" required="true" label="&nbsp;!"/>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- / row-->
                                    <!-- / Datos del Propietario-->
                                    <hr/>
                                    <!--Datos de la Garantia-->
                                    <h4>Datos de la Garantia</h4>
                                    <!-- row -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <h:outputLabel for="direccionGarantia">* Dirección:</h:outputLabel>
                                                <h:message for="direccionGarantia" style="color: red"/>
                                                <h:inputText id="direccionGarantia" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.inmueble.direccionRegistrada}" required="true" label="&nbsp;"/>
                                            </div>
                                        </div> 
                                    </div>
                                    <!-- / row -->
                                    <!-- row-->
                                    <div class="row">
                                        <div class="col-md-2">
                                            <h:outputLabel for="vivienda">* Vivienda:</h:outputLabel>
                                            <h:message for="vivienda" style="color: red"/>
                                            <h:selectOneRadio id="vivienda" class="table table-striped" value="#{av_solicitud.solicitudController.inmueble.vivienda}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="s" itemLabel="&nbsp;Si&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                        <div class="col-md-3">
                                            <h:outputLabel for="acceso" >* Acceso:</h:outputLabel>
                                            <h:message for="acceso" style="color: red"/>
                                            <h:selectOneRadio id="acceso" class="table table-striped" value="#{av_solicitud.solicitudController.inmueble.acceso}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="b" itemLabel="&nbsp;Bueno&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="m" itemLabel="&nbsp;Malo"/>
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                        <div class="col-md-2">
                                            <h:outputLabel for="agua">* Agua:</h:outputLabel>
                                            <h:message for="agua" style="color: red"/>
                                            <h:selectOneRadio id="agua" class="table table-striped" value="#{av_solicitud.solicitudController.inmueble.agua}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="s" itemLabel="&nbsp;Si&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                        <div class="col-md-2">
                                            <h:outputLabel for="luz">* Luz:</h:outputLabel>
                                            <h:message for="luz" style="color: red"/>
                                            <h:selectOneRadio id="luz" class="table table-striped" value="#{av_solicitud.solicitudController.inmueble.luz}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="s" itemLabel="&nbsp;Si&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                        <div class="col-md-2">
                                            <h:outputLabel for="drenaje">* Drenaje:</h:outputLabel>
                                            <h:message for="drenaje" style="color: red"/>
                                            <h:selectOneRadio id="drenaje" class="table table-striped" value="#{av_solicitud.solicitudController.inmueble.drenaje}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="s" itemLabel="&nbsp;Si&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="n" itemLabel="&nbsp;No"/>
                                            </h:selectOneRadio> 
                                        </div>
                                    </div>
                                    <!-- / row-->
                                    <!-- row -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <h:outputLabel for="colonia">Colonia o Residencial:</h:outputLabel>
                                                <h:inputText id="colonia" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.inmueble.residencial}"/>
                                            </div>
                                        </div>  
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <h:outputLabel for="numeroCatastral">Número fisico catastral(Si ya la tuviera):</h:outputLabel>
                                                <h:inputText id="numeroCatastral" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.inmueble.numeroCatastral}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- / row -->
                                    <!-- row -->
                                    <div class="row">                                 
                                        <div class="col-md-5">
                                            <h:outputLabel for="tipoEscritura">* Tipo de Escritura:</h:outputLabel>
                                            <h:message for="tipoEscritura" style="color: red"/>
                                            <h:selectOneRadio id="tipoEscritura" class="table table-striped" value="#{av_solicitud.solicitudController.documento.tipo}" required="true" label="&nbsp;!">
                                                <f:selectItem itemValue="a" itemLabel="&nbsp;Publica&nbsp;&nbsp;"/> 
                                                <f:selectItem itemValue="b" itemLabel="&nbsp;Registrada"/>
                                                <f:selectItem itemValue="c" itemLabel="&nbsp;Derecho de Posesión"/>
                                                <f:ajax event="change" listener="#{av_solicitud.tipoDocumento()}" execute="tipoEscritura" render="pnTipo"/>
                                            </h:selectOneRadio> 
                                        </div>
                                    </div>
                                    <!-- / row -->
                                    <!-- row -->
                                    <h:panelGroup id="pnTipo">
                                        <h:panelGroup rendered="#{av_solicitud.tipoSolicitud == 1 eq true}">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <h:outputLabel for="escrituraPublica">Escritura publica:</h:outputLabel>
                                                        <h:inputText id="escrituraPublica" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.numero}"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <h:outputLabel for="elaborado">Donde fue Elaborada</h:outputLabel>
                                                        <h:inputText id="elaborado" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.direccion}"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">       
                                                    <div class="form-group">
                                                        <h:outputLabel for="notario">Nombre del Notario@ que la elaboro:</h:outputLabel>
                                                        <h:inputText id="notario" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.notario}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <!-- / row -->
                                        <!-- row -->
                                        <h:panelGroup rendered="#{av_solicitud.tipoSolicitud == 2 eq true}">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <h:outputLabel for="finca">Finca:</h:outputLabel>
                                                        <h:inputText id="finca" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.finca}"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <h:outputLabel for="folio">Folio</h:outputLabel>
                                                        <h:inputText id="folio" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.folio}"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <h:outputLabel for="libro">Libro</h:outputLabel>
                                                        <h:inputText id="libro" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.libro}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <!-- row -->
                                        <h:panelGroup rendered="#{av_solicitud.tipoSolicitud == 3 eq true}">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <h:outputLabel for="numeroacta">Numero de Acta:</h:outputLabel>
                                                        <h:inputText id="numeroacta" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.numeroActa}"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <h:outputLabel for="numeroLibro">Numero de Libro:</h:outputLabel>
                                                        <h:inputText id="numeroLibro" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.numeroLibro}"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <h:outputLabel for="otros">Otros:</h:outputLabel>
                                                        <h:inputText id="otro" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.documento.otros}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <!-- / row -->
                                    </h:panelGroup>
                                    <!-- / row -->
                                    <!-- / Datos de la Garantia-->
                                    <hr/>
                                    <!-- colindantes -->
                                    <!-- row -->
                                    <h:panelGroup id="pnColindante">
                                        <h:outputLabel value="#{av_solicitud.msjColindante}" style="color: red"/>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <h:outputLabel for="puntoCardinal">Punto cardinal</h:outputLabel>
                                                    <h:inputText id="puntoCardinal" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.colindante.puntoCardinal}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="form-group">
                                                    <h:outputLabel for="metros">Metros</h:outputLabel>
                                                    <h:inputText id="metros" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.colindante.metros}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="form-group">
                                                    <h:outputLabel for="varas">Varas</h:outputLabel>
                                                    <h:inputText id="varas" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.colindante.varas}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <h:outputLabel for="nombreColindantes">Nombre de los Colindantes:</h:outputLabel>
                                                    <h:inputText id="nombreColindantes" class="form-control" autocomplete="off" value="#{av_solicitud.solicitudController.colindante.nombre}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <h:outputLabel>&nbsp;</h:outputLabel>
                                                <h:commandLink class="btn btn-info form-control" action="#{av_solicitud.solicitudController.agregarColindante()}">
                                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                    <f:ajax execute="pnColindante" render="pnColindante"/>
                                                </h:commandLink>
                                            </div>
                                        </div>
                                        <!-- / row -->
                                        <!-- row -->
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h:dataTable id="tablacolindante" class="table table-striped" value="#{av_solicitud.solicitudController.colindantes}" var="c">
                                                <h:column>
                                                    #{c.puntoCardinal}
                                                </h:column>
                                                <h:column>
                                                    #{c.metros}
                                                </h:column>
                                                <h:column>
                                                    #{c.varas}
                                                </h:column>
                                                <h:column>
                                                    #{c.nombre}
                                                </h:column>
                                                <h:column>
                                                    <h:commandLink action="#{av_solicitud.solicitudController.quitarColindante(c)}" immediate="true">
                                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"/>
                                                    </h:commandLink>
                                                </h:column>
                                                </h:dataTable>
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                    <!-- / row -->
                                    <!-- / colindantes -->
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <h:commandLink value="Generar Solicitud" class="form-control btn btn-success" actionListener="#{av_solicitud.insertarDatos}"/>
                                            </div>
                                        </div>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                        <!-- /Panel principal-->
                    </section>
                </div>
                <footer class="main-footer">
                    <div class="pull-right hidden-xs">
                        <b>Versión</b> #{version.numero}
                    </div>
                    <strong>Copyright &copy; 2018</strong> #{version.autor}
                    <strong>#{version.institucion}</strong>
                </footer>
            </ui:define>

        </ui:composition>

    </body>
</html>